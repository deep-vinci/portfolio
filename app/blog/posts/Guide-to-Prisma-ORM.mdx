---
title: "A Beginner‚Äôs Guide to Prisma ORM"
publishedAt: "2025-05-31"
summary: "Guide to using prisma with nextjs."
---

### A Beginner‚Äôs Guide to Prisma ORM

Imagine you‚Äôre at a party where everyone speaks a different language, like Spanish, French, or Parseltongue. Total Chaos.

Here you met a charismatic guy. He‚Äôs a multilingual who can translate any language to English without a bother in the world. You come to realize his name is **Prisma ORM.**

Prisma at its core is an object-relational mapper, which is a fancy way of saying it helps _you use JavaScript/TypeScript to talk to your database instead of writing long messy SQL._

![](https://cdn-images-1.medium.com/max/900/1*mWr61S1nv5AjtbjDhNuZEA.png)

[https://www.prisma.io/studio](https://www.prisma.io/studio)

So instead of writing this:

```js
SELECT * FROM users WHERE age > 18;
```

You write this:

```js
const adults = await prisma.user.findMany({
    where: { age: { gt: 18 } },
});
```

### How do you call this prisma guy to your project

-   Initialize a Node project

```js
npm init -y
npm install prisma --save-dev
npx prisma init
```

this creates a `prisma/` folder and a `.env` file

-   Set up a Database

Inside `.env`, put a URL of your database. here you can use PostgreSQL, SQLite, MySQL, or even MongoDB

```js
DATABASE_URL = "postgresql://user:password@localhost:5432/mydb";
```

For practicing and small scale applications you can even use SQLite.

```js
DATABASE_URL = "file:./dev.db";
```

### Now comes the schema file

Once you‚Äôre done with setting up a database source like PostgreSQL or SQLite, you can start working with a file inside the `prisma/` folder that was created earlier you can name it `schema.prisma`.

Create a `**datasource**` block. This block configures your database connection.

```js
datasource db {
  provider = "postgresql" // use sqlite if you're using sqlite
  url      = env("DATABASE_URL")
}
```

Create a Prisma client `**generator**`. As of 2025, `‚Äúprisma-client-js‚Äù` is the standard provider for generating the JavaScript/TypeScript client.

```js
generator client {
  provider = "prisma-client-js"
}
```

Create a `**model**` of your database. inside each model, you define fields, which is of `<name>` `<type>` `<directives>`

Where `**<name>**`is the field name, such as `id`, `name`, `email`, `age` and `**<type>**` is the datatype of that field and can be anything (for ex:`Int`, `String`, `Boolean`, `DateTime` ) and then inside `**<directives>**` you can define constraints or relationships, and some of the common ones are:

-   `@id`: Marks a field as the primary key.
-   `@default(...)`: Sets a default value for the field. `autoincrement()` is common for integer IDs. `now()` is common for `DateTime` fields.
-   `@unique`: Ensures that the values in this field are unique across all records.
-   `@relation(...)`: Defines a relationship between two models. It often includes `fields`(the foreign key in the current model) and `references` (the primary key in the related model).
-   `@updatedAt`: Automatically updates the field's value to the current timestamp whenever the record is updated.

```js
model User {
  id    Int     @id @default(autoincrement())
  name  String
  email String  @unique
  age   Int?
}
```

This is how you would create a `**User**` table with id, name, email, and age as the columns of the table.

Once created in `schema.prisma`, you need to create and apply migrations to your database. This will create the actual tables in your database based on your schema.

```js
npx prisma migrate dev --name init
```

and then you‚Äôre ready to create a custom prisma client with your database schema types

```js
npm install @prisma/client
npx prisma generate
```

You need to run `npx prisma generate` every time you update the schema file.

Here‚Äôs the recap of the **final** `schema.prisma`file with the datasource, generator, and model.

```js// schema.prisma file

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model User {
  id    Int     @id @default(autoincrement())
  name  String
  email String  @unique
  age   Int?
}
```

### Using Prisma in your code

#### ‚ûï Create a new user

```js
await prisma.user.create({
    data: {
        name: "John Doe",
        email: "john@example.com",
        age: 25,
    },
});
```

#### üñäÔ∏è Update a user

```js
await prisma.user.update({
    where: { id: 1 },
    data: { age: 26 },
});
```

#### ‚ùå Delete a user

```js
await prisma.user.delete({
    where: { id: 1 },
});
```

#### Real world case usage of prisma with error handling

The code below shows how you would access to all the users data through `findMany()` which is also wrapped in a try..catch..finally block, ensuring that the database connection always stops if an error occurs, preventing any sort of memory leakage.

```js
import { PrismaClient } from "@prisma/client";

const prisma = new PrismaClient();

export default async function getAllUsers() {
    try {
        const users = await prisma.user.findMany();
        console.log("All Users:", users);
        return users;
    } catch (error) {
        console.error("Error fetching users:", error);
        throw new Error("Failed to fetch users");
    } finally {
        await prisma.$disconnect();
    }
}
```

This is all you need to have Prisma return all the rows in the`**User**` table. To get a list of all the typesafe query functions available in `prisma-client-js` you can go through their docs below.

[**Prisma Client Queries | Prisma Documentation**  
\_Learn about the database queries you can send with Prisma Client.\_www.prisma.io](https://www.prisma.io/docs/orm/prisma-client/queries "https://www.prisma.io/docs/orm/prisma-client/queries")[](https://www.prisma.io/docs/orm/prisma-client/queries)

### Some cool bits.

Now that you have experienced Prisma firsthand, you can understand the 3 main tools that make up Prisma ORM.

1.  Prisma Client: This auto-generates type-safe query functions for your database with JavaScript/TypeScript after you have made the schema file.
2.  Prisma Migrate: This helps you evolve your database over time, it even keeps track of the query run in the past to modify the database.
3.  Prisma Studio: This is nice tool that lets you view and edit your database in a visual way through a browser.

Run `npx prisma studio` to access the visual editor of your database.

Additional Resource to learn more about Prisma.

-   [https://www.prisma.io/docs](https://www.prisma.io/docs)
-   [https://github.com/prisma/prisma-examples](https://github.com/prisma/prisma-examples)

Happy building:)
